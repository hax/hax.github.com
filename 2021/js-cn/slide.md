中国如何参与JS语言标准？

GitHub @hax
知乎 @贺师俊
Matrix @haxjs

关于我

1998年,
开始写代码
<!-- 早于有「Web前端」 -->

Web前端和JS语言
20多年发展历程
见证人和参与者

- 盛大创新院
- 百姓网
- 360奇舞团

2019年7月起
TC39代表
<!-- TC39：JS语言标准委员会 -->
<!-- 中国公司、中国JS社区第一批TC39代表之一 -->

中国如何参与JS语言标准？

JavaScript

Brendan Eich
1995年的10天
Netscape 2

<!-- 与其他编程语言不同 -->
Web标准
竞争压力
<!-- 浏览器大战 微软 -->

<!-- 尽管并不稳定 -->
互联网脚本语言
事实标准

1996 标准化

<!-- 微信 -->
企业标准
行业标准
国家标准
跨国标准
国际标准
<!-- 行业标准和国际标准的直通 -->

- ISO
- IETF
- W3C
- Ecma

Ecma国际
<!-- ECMA => Ecma国际 -->

ECMAScript
<!-- JavaScript商标 -->

TC39

1996年11月
ECMA-262 V1

Mr. Cargill (Netscape), Ms. Converse (Netscape), Mr. Eich (Netscape)
Mr. Fisher (NIST), Mr. Gardner (Borland), Mr. Krull (Borland)
Mr. Ksar (HP), Mr. Lenkov (HP), Mr. Lie (W3C), Mr. Luu (Mainsoft)
Mr. Mathis (Pithecanthropus, JTC1/SC22), Mr. Matzke (Apple)
Mr. Murarka (Spyglass), Ms. Nguyen (Netscape), Mr. Noorda (Nombas)
Mr. Palay (Silicon Graphics), Mr. Reardon (Microsoft), Mr. Robinson (Sun)
Mr. Singer (IBM), Mr. Smilonich (Unysis), Mr. Smith (Digital)
Mr. Stryker (Netscape), Ms. Thompson (Unisys), Mr. Urquhart (Sun)
Mr. Veale (Borland), Mr. Welland (Microsoft), Mr. White (AAC Group, Microsoft)
Mr. Willingmyre (GTW Associates, Microsoft), Mr. Wiltamuth (Microsoft).

2015年 ES6

中国公司和社区？

[《JavaScript: The First 20 Years》](https://github.com/doodlewind/jshistory-cn)
- Allen Wirfs-Brock
- Brendan Eich

中国公司和社区
参与Web标准？

[W3C](https://www.chinaw3c.org/)

- 2003 W3C香港办事处（香港科技大学）
- 2003 中国国际万维网发展论坛
- 2006 W3C北京办事处（北京航空航天大学）
- 2011 百度成为W3C会员，随后腾讯、360等也加入
- 2013 W3C/北航总部
- 2021 W3C/北航总部会员46家

Ecma国际

China IWNCOMM
西电捷通
2014-6~2018-6?
近场通讯相关标准

我个人

2006 开始参与（邮件列表）
2016 日常参与（GitHub）
2017年中 发现问题
2018年底 游说中国科技公司

阿里、腾讯、美团
慧科、字节、360

思考：为什么企业要参与JS标准？

「开放」标准？
以公司、组织为单位

个人参与的问题

专业度、代表性
零散、分歧、被动

提供反馈
主导设计

组织技术战略
个人专业能力
<!-- 结合 -->

月影（时任360奇舞团团长）推动
穆鸿（时任360集团副总裁）拍板

2019年6月 360集团
成为Ecma国际会员
并加入TC39工作组

2019年12月
- 阿里巴巴
- 华为
- SujiTech

2020年6月 腾讯
2021年6月 字节

由中国代表担任champion的提案一览

- Error cause (Stage 3)
- `Array.prototype.findLast`/`findLastIndex` (Stage 3)
- `function.sent` meta property (Stage 2)
- Number Range (Stage 1)
- Double-ended iterators (Stage 1)
- Class branding checks (Stage 1)
- Extensions and `::` operator (Stage 1)
- `Array.prototype.unique()` (Stage 1)
- await operations (Stage 1)
- Legacy reflection features for functions (Stage 1)
- Pattern match (Stage 1)
- Pipeline operator (Stage 1)
- `trim` parameter (Stage 0)
- Async context (Stage 0)
- function explicit `this` parameter (Stage 0)
- Non-catchable Errors (Stage -1)

成果很多
挑战更多

真正参与者
仍然很少

- 我
- Jack Works，SujiTech
- 吴成忠（吞吞），阿里巴巴
- 王文璐，微软中国

时区 英语
意愿 能力

怕自己误解
怕讲不清楚
害羞、客气

JS 技术复杂度
历史包袱和兼容性要求
不同平台的需求冲突
不同标准组织的分工
一些特殊限制（如membrane）
委员会机制和流程
公司关系和人际关系

组织支持
时间、绩效
限制了更广泛
工程师的参与

限制了能力发挥

无法阻止和修正
提案的严重问题

- Class fields
- `#x in o` 鸡肋
- Top-level await
- Hashbang `#!`
- `??` 优先级
- `IndexCollections.prototype.at()` 鸡肋
- JSON modules、Module assertions 鸡肋
- Range提案 Iterator/Iterable 分歧

JS不是最好的语言？
为什么会这样？

JS——The World's Best PL,
JS——世界第一编程语言

JS 技术复杂度
历史包袱和兼容性要求
不同平台的需求冲突
不同标准组织的分工
一些特殊限制（如membrane）
委员会机制和流程
公司关系和人际关系,
引擎厂商之间的矛盾
代表的个人偏好和倾向性

老一代领袖退出
浏览器厂商话语权过大
缺乏开发者代表
部分代表有严重个人偏好
优先满足委员会内部

话事人

- 浏览器厂商
- 委员会里最tough的人

人
制度

必须是会员
consensus in the room
一票否决
会议优先于书面

TC39的制度在
标准组织中是
比较特殊的

浏览器厂商之
间的互相制衡

- 缺乏国际化和包容性
- 缺乏对社区的尊重

中国是希望！

凝聚中国开发者

JSCIG
中文讨论组

[JSCIG/es-discuss/issues](https://github.com/JSCIG/es-discuss/issues)

中国的实现者
华为方舟
alinode

JS 分支的可能？

Thank you!
一起参与！

One more thing...

大时代背景下的思考

中国全方位崛起
话语权、主导权

搭便车

商业模式 -> 技术领域
抄无可抄 -> 产业控制

美国在核心技术上封锁
通过科技脱钩孤立中国

华为、360

通过核心技术收割世界
通过主导标准控制世界

标准 中性

开源 事实标准

中国科技公司和技术社区
积极参与开源和开放标准,
是构建人类命运共同体的实践

中国企业（无论愿意与否）
负担更大的行业责任和社会责任

提升中国技术的层次

人

人力资源
人是资产

不是公司私产
而是共享的

996、大小周
各种压榨和不尊重

损害技术人员的
身心健康和职业成长

损害行业的共同
资源和长远利益

本科人口比例：4%
同龄211比例：2.4%
同龄985比例：0.8%

损害国家民族利益
浪费人才是犯罪！

损害公司的长远利益

共同维护和培育人才资源
是国家和民族的要求
符合公司的长远利益

码农 -> 工程师 -> 技术专家

未来的组织形态

扁平型组织
矩阵型项目
知识型组织
创新型组织
学习型组织
合作型组织

员工（尤其是工程师和技术专家）
和公司的关系不是人身附庸关系
而是合作关系

学习如何搞技术标准
学会通过标准来竞合

例子：小程序

技术本身的发展逻辑
建立和实施技术战略

不可闭门造车

开源和开放标准
把握技术发展逻辑
技术战略的稳定器

经验教训和展望

自下而上
自上而下

组织化
制度化

拓展技术专家和
公司的合作形态

总结

- 技术逻辑和技术战略
- 通过开源和标准进行高层次竞合
- 行业责任和社会责任
- 开源和开放标准/人类命运共同体
